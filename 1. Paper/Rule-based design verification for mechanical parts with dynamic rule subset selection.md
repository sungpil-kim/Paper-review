# Rule-based design verification for mechanical parts with dynamic rule subset selection
- 저자 : Hyeonji Lee, Changmo Yeo, Seungeun Lim, Byung Chul Kim, Kyung Cheol Bae & Duhwan Mun
- 학회 : Scientific Reports volume 15, Article number: 17153 (2025)

 
## 1. 서론
- **논문 주제의 필요성**<br>
  제품 개발 프로세스에 있어 초기에 설계 문제점을 검증하는 것은 매우 중요하다. 특히 3D CAD 모델은 커뮤니케이션 및 부품 호환성 검증을 통해 제품 안정성을 확보하는데 핵심적인 역할을 하고있다. 따라서 설계검증을 통해 생산비용 절감 및 제품 품질 향상시킬 수 있다.<br>
   ⇒ 실제 자동차 생산 프로세스 전 과정을 경험하면서 초기의 설계 컨셉이 매우 중요하다는 것을 느꼈다. 자동차 생산 프로세스의 경우 연구소에서 이루어지는 T-CAR부터 P1, 공장에서 이루어지는 P2부터 양산까지의 단계에서 실제 초기 컨셉이 유지되는 경우가 많다. 또한, 현대자동차·기아의 실제 업무 환경에서는 각 부품마다 전담 팀이 나뉘어 있고, 부품 간 공간 여유가 매우 제한적이다. 따라서 초기 단계에서의 부품 위치 설정이 전체적인 차량 컨셉을 좌우한다고 해도 과언이 아니다. 이러한 경험을 바탕으로, 논문에서 강조하는 설계 초기 단계 검증의 중요성은 매우 타당하다고 판단된다.
  
- **기존 Ontology 및 SWRL 방식의 한계**<br>
  #Ontology = 지식이 어떻게 연결되어 있는지 정의 (정적 구조)<Br>
  #SWRL = 온톨리지 지식 기반에서 조건-결과 논리를 활용해 ‘추론’ (동적 로직)<br>
  
  SWRL의 한계 : 논리적 추론이나 정의에는 효과적이지만, 복잡한 산술을 포함하는 ‘검증방정식’을 직접적으로 표현하고 계산하는 데 제약.

- **논문에서 제시하는 개선점**<br>
  연구질문(Research Questions)<br>
  RQ1: 3D CAD 모델이 설계 요구 사항을 자동으로 충족하는지 확인하는 데 어떤 접근 방식을 사용할 수 있는가?<br>
  RQ2: 유지보수성과 확장성을 모두 충족하면서 높은 표현력을 보장하기 위해 디자인 규칙을 어떻게 정의할 수 있는가?<br>
  RQ3: 검증 대상과 관련된 규칙만 선택하여 효율적으로 설계 검증을 수행하는 가장 좋은 방법은 무엇인가?<br>

  제안 방법 (본 연구의 차별점)
  1. 설계 규칙에 포함된 검증 방정식을 동적으로 검증 함수로 구성하는 방법 제안. 이를 통해서 기존의 복잡한 수식 표현에서 텍스트 형태의 지식 기반에 저장함으로써 유연한 확징 및 유지보수를 가능하게 한다.
  2. 지식 기반 구조를 정의함으로써 3D CAD 모델에 저장된 규칙 서브셋의 선택을 용이하게 한다. 이를 통해서 서로 다른 제품에서도 동일한 설계 피쳐의 규칙을 재사용이 가능함으로 효율성이 증대된다.

## 2. 제안된 규칙 기반 설계 검증 방법
설계 검증 시스템(fig. 1)의 내용을 이해한 내용을 토대로 아래 그림으로 표현해보았다.<br>

1. 설계 데이터에서 설계 규칙 지식 기반(A_1)과 설계 매개변수 데이터(B_1)를 로더(1)한다.
2. 설계 규칙 지식 기반(A_1)의 데이터를 관리자(2)가 설계 변수(A_2)와 검증 방정식(B_2)으로 관리한다.
3. 설계 매개변수 데이터(B_1)는 컨트롤러(3)가 관리한다.
4. 관리자와 컨트롤러가 설계 변수(A_2)와 매개변수(A_3)를 비교하며 변수(문제점)를 식별하고, 발생 시 사용자에게 수정을 요청하고 사용자 입력 데이터(B_3)를 회신받는다.
5. 동작 설계 데이터 검증기(4)를 통해서 관리자 내의 데이터를 통해 규칙 서브셋을 선택(A_4)한다.
6. 컨트롤러(3)의 매개변수들은 동적 함수 구성(B_4)을 통해 매개변수를 통합시킨다.
7. 선택된 규칙 서브셋(A_4)과 통합 매개변수(B_4)를 토대로 함수를 실행(C_4)하고 True/False의 결과를 도출한다.
8. 검증 보고서 생성기(5)는 이를 사용자가 원하는 형식으로 변환(A_5)하여 결과를 전달(5)한다.
<img width="2335" height="763" alt="Image" src="https://github.com/user-attachments/assets/dbceaf55-c086-4546-ab2c-8b0678d373f7" />
  
## 3. 설계 규칙 지식 기반 필요성 및 설계 규칙 정의
**설계 규칙 지식 기반 필요성**<br>
정형화되지 않는 문서에 설계 요구사항은 분석이 어려워 인력에 논문에서는 효율성이 떨어진다고 명시한다. 따라서 비정형 문서를 일관된 형식으로 관리하기 위해 설계 규칙 지식 기반의 사용을 강조한다.

**설계 규칙 정의 및 기준**<br>
설계 문서 ⇒ 설계 요구사항 식별 ⇒ 설계 규칙 공식화 ⇒ 설계 변수 및 검증 방정식 도출하여 설계 규칙 지식 기반에 저장<br>

설계 요구사항을 규칙으로 식별하는 기준

첫째, 설계 변수간의 관계를 정략적으로 나타내는 설계 요구사항은 설계 규칙으로 사용.<br>
둘째, 설계 변수의 값이 정략적으로 명시되거나 제한되는 경우 설계 규칙으로 사용.<br>
셋째, 설계 변수가 명시되지 않거나, 설계 변수의 값 또는 범위가 정성적으로 명시되는 경우 설계 규칙으로 미사용.<br>

**검증 함수 동적 구성 및 실행 매커니즘**<br>
<ins>4. 동적 설계 데이터 검증기 하위 항목</ins>에 대하여 구체적인 구성은 아래와 같다.
1. 검증 방정식<br>
   3 x π ≤ 𝐷1_𝑐𝑢𝑝 ≤ 10 x sin⁡(𝐻1_𝑐𝑢𝑝)<br>
2. 검증 방정식 분리 : 검증 방정식을 단위 방정식으로 분리<br>
   3 x π ≤ 𝐷1_𝑐𝑢𝑝, 𝐷1_𝑐𝑢𝑝 ≤ 10 x sin⁡(𝐻1_𝑐𝑢𝑝)<br>
3. 매개변수 값 대입 : 설계 변수를 사용자 매개변수 값으로 대체<br>
   3 x π ≤ 10.5, 10.5 ≤ 10 x sin(30)<br>
4. 수학 상수 대입 : 수학 상수가 포함된 경우, 실제 값으로 대체<br>
   3 x 3.141592.. ≤ 10.5, 10.5 ≤ 10 x sin(30)<br>
5. 수학 방정식 계산 : 수학적 표현을 값으로 대체<br>
   3 x 3.141592.. ≤ 10.5, 10.5 ≤ 10 x 0.5<Br>
6. 결과 반환 : True / False 결과가 반환<br>
   false

## 4. 구현 및 실험
본 연구는 제안된 규칙 기반 설계 검증 방법의 실현 가능성과 효과를 검증하기 위한 실험을 수행하였다.

**1. 테스트 케이스 선정**

테스트 케이스: 풍속계(anemometer)를 주요 테스트 케이스로 선정하였으며 특히 풍속계의 컵(cup)과 플레이트(plate) 설계 피처에 대한 검증 실험을 수행한다.

지식 기반 구축: 풍속계의 컵과 플레이트 피처에 대한 설계 규칙 지식 기반을 사전에 구축하였고, 각 설계 피처의 주요 치수는 XML 형식의 설계 매개변수 파일로 저장한다.

시스템 작동: 프로토타입은 매개변수 파일을 읽어 규칙 지식 기반에서 해당 규칙 서브셋을 찾아내어 검증 함수를 동적으로 구성하여 설계 매개변수를 검증하며, 최종 결과를 XML 보고서 파일로 사용자에게 반환한다.

**2. 풍속계 설계 검증 실험 결과**

검증 과정: 설계 매개변수 데이터에서 추출된 설계 피처에 해당하는 규칙이 자동으로 선택되었다. 필요시 사용자 매개변수가 식별되어 추가 입력되었으며, 모든 매개변수 값은 검증 방정식 내 해당 설계 변수에 정확히 대입되었다.

검증 성능: Table 4에서 제시된 식별 정확도, 대입 정확도, 계산 정확도 모두 100%를 달성함으로 논문에서 제안된 방법이 설계 적합성을 정확하게 판단함을 입증하였다.

**3. 제안 방법의 확장성 실험: 스냅핏 후크**

제안된 방법의 확장성을 검증하기 위해 제품 체결에 사용되는 스냅핏 후크에 대한 추가 실험을 수행하였고 검증 결과 모든 검증 방정식을 만족하였다. 이를 통해 다양한 부품에 적용될 수 있는 확장성을 입증하였다.

## 5. 토의 및 결론
**현재 연구의 한계점 및 향후 연구 방향**

1. 매핑 자동화 부족 : 설계 매개변수와 설계 변수간의 매핑은 테이블을 통해 수동으로 이루어짐.<br>
   ⇒ 설계 매개변수와 설계 변수 간의 매핑을 자동화하는 방법이 개발되어야 한다.
2. 규칙 모순 처리 : 모순되는 제약 조건이 포함되어 있지 않다고 가정.<br>
   ⇒ 설계 규칙 내에서 잠재적인 모순을 식별하고 해결하는 방법 개발되어야 한다.
3. 검증 연산자의 제한 : 산술 및 관계 연산자를 사용하는 검증 방법에만 국한.
4. 지식 기반 구축의 수동성 : 설계 요구사항을 문서에서 식별하고 설계 규칙 지식 기반을 구축과정이 수동으로 이루어짐.<br>
   ⇒ 설계 규칙 지식 기반 구축 과정을 자동화하는데 중점을 두어야 한다.

## 6. 리뷰
1. 논문에서 제시하는 동적 검증 방안은 기존의 온톨로지 및 SWRL의 수식 표현 한계를 극복하여 표현력과 유연성을 입증했다.
2. 특히 지식 기반의 규칙의 추가 및 수정 과정에서의 유지보수성과 규칙의 재사용할 때 큰 효율성을 보인다.
3. 다만 3D CAD 모델을 설계 검증하는 과정을 따로 표기하지는 않았지만, 이전 '3D CAD 모델 가시화 시스템' 논문을 통해 SAT 형식으로 변환 후 설계 피처 인식 및 매개변수 추출이 가능할 것으로 보인다.
4. 논문에서 제시하는 한계점인 '매핑 자동화 부족' 및 '규칙 모순 처리'의 수동성 문제점의 경우 논문의 시스템으로는 해결이 어려웠지만 대규모 언어 모델(LLM)의 사용을 병행한다면 충분히 극복 가능할 것으로 보인다.
5. 또한 수동으로 진행된다고 하더라도 초기의 많은 인력과 시간 투자는 불가피하겠지만 추후 동적 검증 시스템의 사용으로 더 많은 비용과 시간을 절감할 수 있을 것으로 보인다.
6. 특히 설계 과정에서도 간단한 치수 오류 등의 '휴먼 에러'로 오류가 발생하는 경우가 많기 때문에 3번의 검증 연산자의 제한 문제점을 안고 있더라도 설계자로서 해당 시스템은 충분히 유용하다고 생각된다.
7. 다만 사용자에게 문제점을 인지해주고 스스로 개선이 가능하다면 더욱 효율성이 높을 것이라 판단된다. 어려운 검증 연산자나 모호한 규칙 등의 문제점은 사용자의 판단에 맡기더라도 간단한 휴먼 에러등의 문제점에서는 시스템이 판단된 False 값에 대해 자동으로 수정할 수 있다면 더욱 비용과 시간의 절감이 가능할 것이라고 생각된다.
